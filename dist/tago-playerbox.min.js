"use strict";function onYouTubeIframeAPIReady(){window.tago.playerbox.ready()}!function(e,o){var a=o.createElement("script");a.src="https://www.youtube.com/iframe_api";var i=o.getElementsByTagName("script")[0];i.parentNode.insertBefore(a,i)}(window,document);var tago=void 0===window.tago?{}:window.tago;!function(e,o,a){function i(){h=!0,v.loading.remove(),b&&p.playVideo()}function t(e){e.data===YT.PlayerState.ENDED&&r()}function l(e,a){var i=o.createElement("div");i.innerHTML=s(m.overlay,{overlay:f.overlay,hide:f.hide})+s(m.playerbox,{playerbox:f.playerbox,hide:f.hide,playerboxContent:f.playerboxContent,close:f.close})+s(m.loading,{loading:f.loading,hide:f.hide,loadingImgSrc:a||u}),v.trigger=o.querySelector(e),v.overlay=i.childNodes[0],v.playerbox=i.childNodes[1],v.close=v.playerbox.firstElementChild.childNodes[1],v.loading=i.childNodes[2]}function n(){v.trigger.addEventListener("click",function(){d()}),v.close.addEventListener("click",function(){r()}),o.addEventListener("keyup",function(e){27!==e.which&&27!==e.keyCode||!b||r()})}function d(){b=!0,c(v.overlay),v.playerbox.classList.remove(g),v.loading.classList.remove(g),h&&p.playVideo()}function r(){b=!1,y(v.overlay),v.playerbox.classList.add(g),v.loading.classList.add(g),h&&(p.stopVideo(),p.seekTo(0,!0))}function s(e,o){for(var a in o)o.hasOwnProperty(a)&&(e=e.replace(new RegExp("{"+a+"}","g"),o[a]));return e}function y(e){e.style.opacity=1,function o(){var a=parseFloat(e.style.opacity);a=(a-.1).toFixed(1),0>a?(e.style.display="none",e.classList.add("tago-playerbox-hide")):(e.style.opacity=a,requestAnimationFrame(o))}()}function c(e,o){e.classList.contains("tago-playerbox-hide")&&e.classList.remove("tago-playerbox-hide"),e.style.opacity=0,e.style.display=o||"block",function a(){var o=parseFloat(e.style.opacity);(o+=.2)<1&&(e.style.opacity=o,requestAnimationFrame(a))}()}var p,g="tago-playerbox-hide",v={},b=!1,u="tago-playerbox-loading.gif",h=!1,x={playerVars:{autoplay:0},events:{onReady:i,onStateChange:t}},f={overlay:"tago-overlay",playerbox:"tago-playerbox",playerboxContent:"tago-playerbox-content",close:"tago-playerbox-close",hide:"tago-playerbox-hide",loading:"tago-playerbox-loading"},m={overlay:'<div class="{overlay} {hide}"></div>',playerbox:'<div class="{playerbox} {hide}"><div class="{playerboxContent}"><div></div><span class="{close}">&times;</span></div></div>',loading:'<div class="{loading} {hide}"><img src="{loadingImgSrc}" alt="Loading indicator" /></div>'};a.playerbox={init:function(e,a,i){l(e,i),x.videoId=a,o.body.appendChild(v.overlay),o.body.appendChild(v.loading)},ready:function(){var e=v.playerbox.firstElementChild.firstElementChild;p=new YT.Player(e,x),o.body.appendChild(v.playerbox),n()}}}(window,document,tago);
//# sourceMappingURL=tago-playerbox.min.js.map